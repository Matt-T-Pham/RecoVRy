{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\mtp8\\\\Documents\\\\GitHub\\\\we\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useStateValue}from'../state';import'../css/RankingPage.scss';var getRanking=function getRanking(username,setRanking,setUserRank){fetch(\"\".concat(window.location.origin,\"/getranking?user=\").concat(username)).then(function(response){if(!response.ok)console.log(response.statusText);else response.json().then(function(ranking){console.log(ranking);setRanking(ranking);setUserRank(ranking.findIndex(function(person){return person.username===\"YOU\";}));});}).catch(console.log);};var RankingPage=function RankingPage(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,1),username=_useStateValue2[0].username;var _useState=useState(),_useState2=_slicedToArray(_useState,2),userRank=_useState2[0],setUserRank=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ranking=_useState4[0],setRanking=_useState4[1];useEffect(function(){getRanking(username,setRanking,setUserRank);},[username]);return React.createElement(\"div\",{className:\"RankingPage\"},React.createElement(\"div\",{className:\"RankingPage__userDisplay\"},React.createElement(\"label\",null,\"YOUR RANK:\"),React.createElement(\"span\",null,userRank!==undefined&&userRank+1),React.createElement(\"label\",null,\"YOUR SCORE:\"),React.createElement(\"span\",null,ranking[userRank]&&ranking[userRank].score)),React.createElement(\"div\",{className:\"RankingPage__listArea\"},React.createElement(\"div\",{className:\"RankingPage__listArea--top\"},React.createElement(\"div\",{className:\"RankingPage__listArea--top--rankTwo\"},ranking[1]&&ranking[1].username,React.createElement(\"span\",null,\"2\")),React.createElement(\"div\",{className:\"RankingPage__listArea--top--rankOne\"},ranking[0]&&ranking[0].username,React.createElement(\"span\",null,\"1\")),React.createElement(\"div\",{className:\"RankingPage__listArea--top--rankThree\"},ranking[2]&&ranking[2].username,React.createElement(\"span\",null,\"3\"))),React.createElement(\"ul\",null,ranking.slice(3).map(function(person,i){return React.createElement(\"li\",{key:i,className:\"RankingPage__listArea--item\"},React.createElement(\"span\",{className:\"RankingPage__listArea--item--rank\"},i+4),React.createElement(\"span\",{className:\"RankingPage__listArea--item--name\"},person.username),React.createElement(\"span\",{className:\"RankingPage__listArea--item--score\"},person.score));}))));};export default RankingPage;","map":{"version":3,"sources":["C:/Users/mtp8/Documents/GitHub/we/src/pages/RankingPage.js"],"names":["React","useEffect","useState","useStateValue","getRanking","username","setRanking","setUserRank","fetch","window","location","origin","then","response","ok","console","log","statusText","json","ranking","findIndex","person","catch","RankingPage","userRank","undefined","score","slice","map","i"],"mappings":"kKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,aAAT,KAA8B,UAA9B,CACA,MAAO,yBAAP,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,QAAD,CAAWC,UAAX,CAAuBC,WAAvB,CAAuC,CACtDC,KAAK,WAAIC,MAAM,CAACC,QAAP,CAAgBC,MAApB,6BAA8CN,QAA9C,EAAL,CACCO,IADD,CACM,SAAAC,QAAQ,CAAI,CACd,GAAG,CAACA,QAAQ,CAACC,EAAb,CAAiBC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,UAArB,EAAjB,IACKJ,CAAAA,QAAQ,CAACK,IAAT,GAAgBN,IAAhB,CAAqB,SAAAO,OAAO,CAAI,CACjCJ,OAAO,CAACC,GAAR,CAAYG,OAAZ,EACAb,UAAU,CAACa,OAAD,CAAV,CACAZ,WAAW,CAACY,OAAO,CAACC,SAAR,CAAkB,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAAChB,QAAP,GAAoB,KAAxB,EAAxB,CAAD,CAAX,CACH,CAJI,EAKR,CARD,EAQGiB,KARH,CAQSP,OAAO,CAACC,GARjB,EASH,CAVD,CAYA,GAAMO,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,oBAECpB,aAAa,EAFd,kDAEfE,QAFe,oBAEfA,QAFe,eAGQH,QAAQ,EAHhB,wCAGjBsB,QAHiB,eAGPjB,WAHO,8BAIML,QAAQ,CAAC,EAAD,CAJd,yCAIjBiB,OAJiB,eAIRb,UAJQ,eAMxBL,SAAS,CAAC,UAAM,CACZG,UAAU,CAACC,QAAD,CAAWC,UAAX,CAAuBC,WAAvB,CAAV,CACH,CAFQ,CAEN,CAACF,QAAD,CAFM,CAAT,CAIA,MACE,4BAAK,SAAS,CAAC,aAAf,EACI,2BAAK,SAAS,CAAC,0BAAf,EACI,8CADJ,CAEI,gCAAOmB,QAAQ,GAAKC,SAAb,EAA0BD,QAAQ,CAAC,CAA1C,CAFJ,CAGI,+CAHJ,CAII,gCAAOL,OAAO,CAACK,QAAD,CAAP,EAAqBL,OAAO,CAACK,QAAD,CAAP,CAAkBE,KAA9C,CAJJ,CADJ,CAOI,2BAAK,SAAS,CAAC,uBAAf,EACI,2BAAK,SAAS,CAAC,4BAAf,EACI,2BAAK,SAAS,CAAC,qCAAf,EAAsDP,OAAO,CAAC,CAAD,CAAP,EAAcA,OAAO,CAAC,CAAD,CAAP,CAAWd,QAA/E,CAAwF,oCAAxF,CADJ,CAEI,2BAAK,SAAS,CAAC,qCAAf,EAAsDc,OAAO,CAAC,CAAD,CAAP,EAAcA,OAAO,CAAC,CAAD,CAAP,CAAWd,QAA/E,CAAwF,oCAAxF,CAFJ,CAGI,2BAAK,SAAS,CAAC,uCAAf,EAAwDc,OAAO,CAAC,CAAD,CAAP,EAAcA,OAAO,CAAC,CAAD,CAAP,CAAWd,QAAjF,CAA0F,oCAA1F,CAHJ,CADJ,CAMI,8BACKc,OAAO,CAACQ,KAAR,CAAc,CAAd,EAAiBC,GAAjB,CAAqB,SAACP,MAAD,CAASQ,CAAT,QAClB,2BAAI,GAAG,CAAEA,CAAT,CAAY,SAAS,CAAC,6BAAtB,EACI,4BAAM,SAAS,CAAC,mCAAhB,EAAqDA,CAAC,CAAC,CAAvD,CADJ,CAEI,4BAAM,SAAS,CAAC,mCAAhB,EAAqDR,MAAM,CAAChB,QAA5D,CAFJ,CAGI,4BAAM,SAAS,CAAC,oCAAhB,EAAsDgB,MAAM,CAACK,KAA7D,CAHJ,CADkB,EAArB,CADL,CANJ,CAPJ,CADF,CA0BD,CApCD,CAsCA,cAAeH,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useStateValue } from '../state'\r\nimport '../css/RankingPage.scss'\r\n\r\nconst getRanking = (username, setRanking, setUserRank) => {\r\n    fetch(`${window.location.origin}/getranking?user=${username}`)\r\n    .then(response => {\r\n        if(!response.ok) console.log(response.statusText)\r\n        else response.json().then(ranking => {\r\n            console.log(ranking)\r\n            setRanking(ranking)\r\n            setUserRank(ranking.findIndex(person => person.username === \"YOU\"))\r\n        })\r\n    }).catch(console.log)\r\n}\r\n\r\nconst RankingPage = () => {\r\n\r\n  const [{ username }, ] = useStateValue()\r\n  const [userRank, setUserRank] = useState();\r\n  const [ranking, setRanking] = useState([])\r\n\r\n  useEffect(() => {\r\n      getRanking(username, setRanking, setUserRank)\r\n  }, [username])\r\n\r\n  return (\r\n    <div className=\"RankingPage\">\r\n        <div className=\"RankingPage__userDisplay\">\r\n            <label>YOUR RANK:</label>\r\n            <span>{userRank !== undefined && userRank+1}</span>\r\n            <label>YOUR SCORE:</label>\r\n            <span>{ranking[userRank] && ranking[userRank].score}</span>\r\n        </div>\r\n        <div className=\"RankingPage__listArea\">\r\n            <div className=\"RankingPage__listArea--top\">\r\n                <div className=\"RankingPage__listArea--top--rankTwo\">{ranking[1] && ranking[1].username}<span>2</span></div>\r\n                <div className=\"RankingPage__listArea--top--rankOne\">{ranking[0] && ranking[0].username}<span>1</span></div>\r\n                <div className=\"RankingPage__listArea--top--rankThree\">{ranking[2] && ranking[2].username}<span>3</span></div>\r\n            </div>  \r\n            <ul>\r\n                {ranking.slice(3).map((person, i) =>\r\n                    <li key={i} className=\"RankingPage__listArea--item\">\r\n                        <span className=\"RankingPage__listArea--item--rank\">{i+4}</span>\r\n                        <span className=\"RankingPage__listArea--item--name\">{person.username}</span>\r\n                        <span className=\"RankingPage__listArea--item--score\">{person.score}</span>\r\n                    </li>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RankingPage;"]},"metadata":{},"sourceType":"module"}