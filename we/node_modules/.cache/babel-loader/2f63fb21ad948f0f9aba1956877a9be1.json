{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\mtp8\\\\Documents\\\\GitHub\\\\we\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\mtp8\\\\Documents\\\\GitHub\\\\we\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:\\\\Users\\\\mtp8\\\\Documents\\\\GitHub\\\\we\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect}from'react';import'../css/PatientsPage.scss';import ListSubheader from'@material-ui/core/ListSubheader';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import Button from'@material-ui/core/Button';import CaretIcon from'../images/right_caret.png';import Modal from'@material-ui/core/Modal';import TextField from'@material-ui/core/TextField';import{useStateValue}from'../state';import TrashIcon from'../images/trash.png';import TransferIcon from'../images/transfer.png';import PlusIcon from'../images/plus.png';import MinusIcon from'../images/minus.png';import UpCaretIcon from'../images/up-caret.png';import DownCaretIcon from'../images/down-caret.png';import ConfirmIcon from'../images/tick.png';import CancelIcon from'../images/close.png';var addUser=function addUser(therapistsUser,userData,patients,setPatients){fetch(\"\".concat(window.location.origin,\"/adduser\"),{method:'PUT',body:JSON.stringify({therapistsUser:therapistsUser,username:userData.username,password:userData.password,firstName:userData.firstName,lastName:userData.lastName,address:userData.address,phoneNumber:userData.phoneNumber,email:userData.email,accessLevel:'patient'}),headers:{'Content-Type':'application/json'}}).then(function(response){if(!response.ok)throw Error(response.statusText);setPatients(patients.concat({firstName:userData.firstName,lastName:userData.lastName,username:userData.username,workouts:[]}));}).catch(console.log);};var assignWorkout=function assignWorkout(username,WID,workoutName,patients,setPatients,selectedDays){fetch(\"\".concat(window.location.origin,\"/assignworkout\"),{method:'PUT',body:JSON.stringify({username:username,WID:WID,schedule:selectedDays.reduce(function(acc,n){return acc+(n?'1':'0');},'')}),headers:{'Content-Type':'application/json'}}).then(function(response){if(!response.ok)throw Error(response.statusText);var changed=JSON.parse(JSON.stringify(patients));var userIdx=changed.findIndex(function(p){return p.username===username;});changed[userIdx][\"workouts\"]=changed[userIdx][\"workouts\"].concat({id:WID,name:workoutName});setPatients(changed);}).catch(console.log);};var removeWorkoutAssignment=function removeWorkoutAssignment(username,WID,patients,setPatients){fetch(\"\".concat(window.location.origin,\"/removeassignedworkout?user=\").concat(username,\"&WID=\").concat(WID),{method:'DELETE'}).then(function(response){if(!response.ok)throw Error(response.statusText);var changed=JSON.parse(JSON.stringify(patients));var userIdx=changed.findIndex(function(p){return p.username===username;});changed[userIdx].workouts.splice(changed[userIdx].workouts.findIndex(function(w){return w.id===WID;}),1);setPatients(changed);}).catch(console.log);};var addExerciseToWorkout=function addExerciseToWorkout(i,exercises,setExercises,selectedExercises,setSelectedExercises,builtWorkout,setBuiltWorkout){var addedExercise=exercises.splice(i,1);setSelectedExercises(selectedExercises.concat(addedExercise));setExercises(Object.assign([],exercises));builtWorkout.exercises.push(_objectSpread({},addedExercise[0],{reps:1}));setBuiltWorkout(Object.assign({},builtWorkout));};var removeExerciseFromWorkout=function removeExerciseFromWorkout(i,exercises,setExercises,selectedExercises,setSelectedExercises,builtWorkout,setBuiltWorkout){var removedExercise=selectedExercises.splice(i,1);setExercises(exercises.concat(removedExercise));setSelectedExercises(Object.assign([],selectedExercises));builtWorkout.exercises.splice(i,1);setBuiltWorkout(Object.assign({},builtWorkout));};var saveNewWorkout=function saveNewWorkout(username,newWorkout,workouts,setWorkouts,setWorkoutModalOpen){fetch(\"\".concat(window.location.origin,\"/addnewworkout?user=\").concat(username),{method:'PUT',body:JSON.stringify(newWorkout),headers:{'Content-Type':'application/json'}}).then(function(response){if(!response.ok)throw Error(response.statusText);setWorkoutModalOpen(false);response.json().then(function(json){setWorkouts(workouts.concat(json));});}).catch(console.log);};var deletePatient=function deletePatient(idx,patients,setPatients){fetch(\"\".concat(window.location.origin,\"/deleteuser?user=\").concat(patients[idx].username),{method:'DELETE'}).then(function(response){if(!response.ok)throw Error(response.statusText);var changed=Object.assign([],patients);changed.splice(idx,1);console.log(changed);setPatients(changed);}).catch(console.log);};var getPatients=function getPatients(username,setPatients){fetch(\"\".concat(window.location.origin,\"/getpatients?user=\").concat(username)).then(function(response){if(!response.ok)throw Error(response.statusText);console.log(response);response.json().then(function(json){setPatients(json);});}).catch(console.log);};var getWorkouts=function getWorkouts(username,setWorkouts){fetch(\"\".concat(window.location.origin,\"/getcreatedworkouts?user=\").concat(username)).then(function(response){if(!response.ok)throw Error(response.statusText);console.log(response);response.json().then(function(json){setWorkouts(json);});}).catch(console.log);};var getExercises=function getExercises(username,setExercises){fetch(\"\".concat(window.location.origin,\"/getcreatedexercises?user=\").concat(username)).then(function(response){if(!response.ok)throw Error(response.statusText);console.log(response);response.json().then(function(json){setExercises(json);});}).catch(console.log);};var Patients=function Patients(){// const tempW = [{\"id\":1,\"name\":\"first workout!\"},{\"id\":2,\"name\":\"A test workout\"},{\"id\":3,\"name\":\"Another test workout\"},{\"id\":4,\"name\":\"Lots of people do this workout\"},{\"id\":5,\"name\":\"So much abs\"},{\"id\":6,\"name\":\"Such many biceps\"}]\n// const tempP = [{\"firstName\":\"jane\",\"lastName\":\"joe\",\"username\":\"joeie\",\"workouts\":[{\"id\":1,\"name\":\"first workout!\"},{\"id\":6,\"name\":\"Such many biceps\"}]},{\"firstName\":\"john\",\"lastName\":\"joe\",\"username\":\"johnnny\",\"workouts\":[{\"id\":1,\"name\":\"first workout!\"}]},{\"firstName\":\"zack\",\"lastName\":\"mulhstein\",\"username\":\"zackky\",\"workouts\":[{\"id\":1,\"name\":\"first workout!\"},{\"id\":2,\"name\":\"A test workout\"},{\"id\":3,\"name\":\"Another test workout\"}]},{\"firstName\":\"Last\",\"lastName\":\"One\",\"username\":\"hoping\",\"workouts\":[{\"id\":1,\"name\":\"first workout!\"},{\"id\":3,\"name\":\"Another test workout\"},{\"id\":4,\"name\":\"Lots of people do this workout\"},{\"id\":6,\"name\":\"Such many biceps\"}]}]\n// const tempE = [{\"id\":1,\"name\":\"Curls: Bicep Curls\"},{\"id\":2,\"name\":\"Squat:Air Squat\"},{\"id\":3,\"name\":\"Squat:Back Squat\"},{\"id\":4,\"name\":\"High Pull:Sumo High Pull\"},{\"id\":5,\"name\":\"squat\"}]\nvar _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,1),username=_useStateValue2[0].username;var _useState=useState(),_useState2=_slicedToArray(_useState,2),hoverId=_useState2[0],setHoverId=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selectedId=_useState4[0],setSelectedId=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),newUserData=_useState6[0],setNewUserData=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),patientModalOpen=_useState8[0],setPatientModalOpen=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),workoutModalOpen=_useState10[0],setWorkoutModalOpen=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),patients=_useState12[0],setPatients=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),workouts=_useState14[0],setWorkouts=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),exercises=_useState16[0],setExercises=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),selectedExercises=_useState18[0],setSelectedExercises=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),selectedWorkout=_useState20[0],setSelectedWorkout=_useState20[1];var _useState21=useState(Array(7).fill(false)),_useState22=_slicedToArray(_useState21,2),selectedDays=_useState22[0],setSelectedDays=_useState22[1];var _useState23=useState({name:'',exercises:[]}),_useState24=_slicedToArray(_useState23,2),builtWorkout=_useState24[0],setBuiltWorkout=_useState24[1];useEffect(function(){getPatients(username,setPatients);getWorkouts(username,setWorkouts);getExercises(username,setExercises);},[username]);return React.createElement(\"div\",{style:{display:'flex',height:\"100%\"}},React.createElement(\"div\",{className:\"Patients__list\"},React.createElement(List,{subheader:React.createElement(ListSubheader,{component:\"div\"},\"Patients\"),className:\"Patients__list--style\"},patients.map(function(data,i){return React.createElement(React.Fragment,{key:i},React.createElement(ListItem,{button:true,onMouseEnter:function onMouseEnter(){return setHoverId(i);},onMouseLeave:function onMouseLeave(){return setHoverId(null);},onClick:function onClick(){setSelectedId(i);setSelectedWorkout(undefined);}},React.createElement(ListItemText,{primary:\"\".concat(data.firstName,\" \").concat(data.lastName)}),hoverId===i?React.createElement(\"img\",{src:CaretIcon,alt:\">\",height:16}):React.createElement(React.Fragment,null)));})),React.createElement(Button,{variant:\"contained\",onClick:function onClick(){return setPatientModalOpen(true);}},\"New Patient\")),React.createElement(\"div\",{className:\"Patients__window\"},selectedId!==undefined&&React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"Patients__window__header\"},React.createElement(\"h2\",{style:{marginLeft:\"1rem\"}},patients[selectedId].firstName,\" \",patients[selectedId].lastName),React.createElement(\"img\",{src:TransferIcon,alt:\"Transfer\"}),React.createElement(\"img\",{src:TrashIcon,alt:\"Remove\",onClick:function onClick(){setSelectedId(undefined);deletePatient(selectedId,patients,setPatients);}})),React.createElement(\"div\",{className:\"Patients__window__workouts\"},React.createElement(List,{subheader:React.createElement(ListSubheader,null,\"Prescribed Workouts\"),className:\"Patients__window__workouts__list\"},patients[selectedId].workouts.map(function(data,i){return React.createElement(React.Fragment,{key:i},React.createElement(ListItem,{button:true,onClick:function onClick(){return removeWorkoutAssignment(patients[selectedId].username,patients[selectedId].workouts[i].id,patients,setPatients);}},React.createElement(ListItemText,{primary:data.name}),React.createElement(\"img\",{src:MinusIcon,alt:\"-\"})));})),React.createElement(\"div\",{id:\"Available-Workouts\",className:\"Patients__window__workouts__list\"},React.createElement(List,{subheader:React.createElement(ListSubheader,null,\"Available Workouts\")},workouts.filter(function(w1){return!patients[selectedId].workouts.some(function(w2){return w1.id===w2.id;});}).map(function(data,i){return React.createElement(React.Fragment,{key:i},i!==selectedWorkout?React.createElement(ListItem,{button:true,onClick:function onClick(){return setSelectedWorkout(i);}},React.createElement(\"img\",{src:PlusIcon,alt:\"+\",style:{marginRight:'1.5rem'}}),React.createElement(ListItemText,{primary:data.name})):React.createElement(ListItem,{style:{display:'flex',justifyContent:'space-around',alignItems:'center',height:'48px',backgroundColor:'rgba(0,0,0,.08)'}},['S','M','T','W','T','F','S'].map(function(day,i){return React.createElement(\"span\",{className:\"Patients__window__workouts__list__day\",style:{backgroundColor:selectedDays[i]?'rgba(0,0,0,.2)':'transparent'},onClick:function onClick(){var daysCopy=_toConsumableArray(selectedDays);daysCopy[i]=!daysCopy[i];setSelectedDays(daysCopy);}},day);}),React.createElement(\"img\",{src:CancelIcon,height:16,alt:\"Cancel\",onClick:function onClick(){setSelectedWorkout(undefined);setSelectedDays(Array(7).fill(false));}}),React.createElement(\"img\",{src:ConfirmIcon,height:16,alt:\"Confirm\",onClick:function onClick(){assignWorkout(patients[selectedId].username,workouts.filter(function(w1){return!patients[selectedId].workouts.some(function(w2){return w1.id===w2.id;});})[i].id,workouts.filter(function(w1){return!patients[selectedId].workouts.some(function(w2){return w1.id===w2.id;});})[i].name,patients,setPatients,selectedDays);setSelectedDays(Array(7).fill(false));setSelectedWorkout(undefined);}})));})),React.createElement(Button,{id:\"Create-Workout-Button\",variant:\"outlined\",onClick:function onClick(){return setWorkoutModalOpen(true);},fullWidth:true},\"Create Workout\"))))),React.createElement(Modal,{open:patientModalOpen,onClose:function onClose(){return setPatientModalOpen(false);}},React.createElement(\"div\",{className:\"Modal\"},React.createElement(\"h2\",{style:{marginLeft:\"1rem\"}},\"NEW PATIENT\"),React.createElement(\"form\",{noValidate:true,autoComplete:\"off\",className:\"Patients__modal__form\"},React.createElement(TextField,{id:\"outlined-basic\",onChange:function onChange(e){return setNewUserData(_objectSpread({},newUserData,{firstName:e.target.value}));},label:\"First Name\",variant:\"outlined\",style:{margin:\"1rem\",gridArea:\"a\"}}),React.createElement(TextField,{id:\"outlined-basic\",onChange:function onChange(e){return setNewUserData(_objectSpread({},newUserData,{lastName:e.target.value}));},label:\"Last Name\",variant:\"outlined\",style:{margin:\"1rem\",gridArea:\"b\"}}),React.createElement(TextField,{id:\"outlined-basic\",onChange:function onChange(e){return setNewUserData(_objectSpread({},newUserData,{email:e.target.value}));},label:\"Email\",variant:\"outlined\",style:{margin:\"1rem\",gridArea:\"c\"}}),React.createElement(TextField,{id:\"outlined-basic\",onChange:function onChange(e){return setNewUserData(_objectSpread({},newUserData,{phoneNumber:e.target.value}));},label:\"Phone Number\",variant:\"outlined\",style:{margin:\"1rem\",gridArea:\"d\"}}),React.createElement(TextField,{id:\"outlined-basic\",onChange:function onChange(e){return setNewUserData(_objectSpread({},newUserData,{address:e.target.value}));},label:\"Address\",variant:\"outlined\",style:{margin:\"1rem\",gridArea:\"e\"}}),React.createElement(TextField,{id:\"outlined-basic\",onChange:function onChange(e){return setNewUserData(_objectSpread({},newUserData,{username:e.target.value}));},label:\"Username\",variant:\"outlined\",style:{margin:\"1rem\",gridArea:\"f\"}}),React.createElement(TextField,{id:\"outlined-basic\",onChange:function onChange(e){return setNewUserData(_objectSpread({},newUserData,{password:e.target.value}));},label:\"Password\",type:\"password\",variant:\"outlined\",style:{margin:\"1rem\",gridArea:\"g\"}}),React.createElement(Button,{variant:\"outlined\",style:{margin:\"1rem\",gridArea:\"h\"},onClick:function onClick(){addUser(username,newUserData,patients,setPatients);setPatientModalOpen(false);}},\"ADD PATIENT\")))),React.createElement(Modal,{open:workoutModalOpen,onClose:function onClose(){return setWorkoutModalOpen(false);}},React.createElement(\"div\",{className:\"Modal\",id:\"WorkoutBuilderModal\"},React.createElement(\"h2\",{style:{marginLeft:\"1rem\"}},\"BUILD NEW WORKOUT\"),React.createElement(\"div\",{className:\"WorkoutBuilder\"},React.createElement(List,{subheader:React.createElement(ListSubheader,null,\"Available Exercises\"),className:\"WorkoutBuilder__available\"},exercises.map(function(data,i){return React.createElement(React.Fragment,{key:i},React.createElement(ListItem,{button:true,onClick:function onClick(){return addExerciseToWorkout(i,exercises,setExercises,selectedExercises,setSelectedExercises,builtWorkout,setBuiltWorkout);}},React.createElement(ListItemText,{primary:data.name}),React.createElement(\"img\",{src:PlusIcon,alt:\"+\"})));})),React.createElement(List,{subheader:React.createElement(ListSubheader,null,\"Selected Exercises\",React.createElement(\"span\",{style:{float:'right'}},\"Reps\")),className:\"WorkoutBuilder__selected\"},selectedExercises.map(function(data,i){return React.createElement(React.Fragment,{key:i},React.createElement(ListItem,null,React.createElement(\"img\",{src:MinusIcon,alt:\"-\",style:{margin:'-.5rem 1rem -.5rem -.5rem',padding:'.5rem'},onClick:function onClick(){return removeExerciseFromWorkout(i,exercises,setExercises,selectedExercises,setSelectedExercises,builtWorkout,setBuiltWorkout);}}),React.createElement(ListItemText,{primary:data.name}),React.createElement(\"div\",{className:\"WorkoutBuilder__selected--reps\"},React.createElement(\"span\",{style:{marginRight:'.5rem'}},builtWorkout.exercises[i].reps),React.createElement(\"div\",{className:\"WorkoutBuilder__selected__carets\"},React.createElement(\"img\",{src:UpCaretIcon,height:8,alt:\"^\",onClick:function onClick(){builtWorkout.exercises[i].reps++;setBuiltWorkout(Object.assign({},builtWorkout));}}),React.createElement(\"img\",{src:DownCaretIcon,height:8,alt:\"v\",onClick:function onClick(){if(builtWorkout.exercises[i].reps>1){builtWorkout.exercises[i].reps--;setBuiltWorkout(Object.assign({},builtWorkout));}}})))));}))),React.createElement(\"div\",{id:\"Workout-Confirmation-div\"},React.createElement(TextField,{label:\"Workout Name\",onChange:function onChange(e){builtWorkout.name=e.target.value;setBuiltWorkout(Object.assign({},builtWorkout));},fullWidth:true}),React.createElement(\"img\",{src:ConfirmIcon,alt:\"Confirm\",height:24,onClick:function onClick(){return saveNewWorkout(username,builtWorkout,workouts,setWorkouts,setWorkoutModalOpen);}})))));};export default Patients;","map":{"version":3,"sources":["C:/Users/mtp8/Documents/GitHub/we/src/pages/PatientsPage.js"],"names":["React","useState","useEffect","ListSubheader","List","ListItem","ListItemText","Button","CaretIcon","Modal","TextField","useStateValue","TrashIcon","TransferIcon","PlusIcon","MinusIcon","UpCaretIcon","DownCaretIcon","ConfirmIcon","CancelIcon","addUser","therapistsUser","userData","patients","setPatients","fetch","window","location","origin","method","body","JSON","stringify","username","password","firstName","lastName","address","phoneNumber","email","accessLevel","headers","then","response","ok","Error","statusText","concat","workouts","catch","console","log","assignWorkout","WID","workoutName","selectedDays","schedule","reduce","acc","n","changed","parse","userIdx","findIndex","p","id","name","removeWorkoutAssignment","splice","w","addExerciseToWorkout","i","exercises","setExercises","selectedExercises","setSelectedExercises","builtWorkout","setBuiltWorkout","addedExercise","Object","assign","push","reps","removeExerciseFromWorkout","removedExercise","saveNewWorkout","newWorkout","setWorkouts","setWorkoutModalOpen","json","deletePatient","idx","getPatients","getWorkouts","getExercises","Patients","hoverId","setHoverId","selectedId","setSelectedId","newUserData","setNewUserData","patientModalOpen","setPatientModalOpen","workoutModalOpen","selectedWorkout","setSelectedWorkout","Array","fill","setSelectedDays","display","height","map","data","undefined","marginLeft","filter","w1","some","w2","marginRight","justifyContent","alignItems","backgroundColor","day","daysCopy","e","target","value","margin","gridArea","float","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport '../css/PatientsPage.scss'\r\nimport ListSubheader from '@material-ui/core/ListSubheader'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Button from '@material-ui/core/Button'\r\nimport CaretIcon from '../images/right_caret.png'\r\nimport Modal from '@material-ui/core/Modal'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { useStateValue } from '../state'\r\nimport TrashIcon from '../images/trash.png'\r\nimport TransferIcon from '../images/transfer.png'\r\nimport PlusIcon from '../images/plus.png'\r\nimport MinusIcon from '../images/minus.png'\r\nimport UpCaretIcon from '../images/up-caret.png'\r\nimport DownCaretIcon from '../images/down-caret.png'\r\nimport ConfirmIcon from '../images/tick.png'\r\nimport CancelIcon from '../images/close.png'\r\n\r\nconst addUser = (therapistsUser, userData, patients, setPatients) => {\r\n    fetch(`${window.location.origin}/adduser`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify({therapistsUser: therapistsUser,\r\n            username: userData.username, \r\n            password: userData.password,\r\n            firstName: userData.firstName,\r\n            lastName: userData.lastName,\r\n            address: userData.address,\r\n            phoneNumber: userData.phoneNumber,\r\n            email: userData.email,\r\n            accessLevel: 'patient'}),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then((response) => {\r\n            if(!response.ok) throw Error(response.statusText)\r\n            \r\n            setPatients(patients.concat({firstName: userData.firstName, lastName: userData.lastName, username: userData.username, workouts: []}))\r\n        }).catch(console.log)\r\n    }\r\n    \r\nconst assignWorkout = (username, WID, workoutName, patients, setPatients, selectedDays) => {\r\n    fetch(`${window.location.origin}/assignworkout`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify({username: username, WID: WID, schedule: selectedDays.reduce((acc, n) => acc + (n ? '1' : '0'), '')}),\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then((response) => {\r\n        if(!response.ok) throw Error(response.statusText)\r\n        \r\n        let changed = JSON.parse(JSON.stringify(patients))\r\n        const userIdx = changed.findIndex(p => p.username === username)\r\n        changed[userIdx][\"workouts\"] = changed[userIdx][\"workouts\"].concat({id: WID, name: workoutName})\r\n        setPatients(changed)\r\n    }).catch(console.log)\r\n}\r\n\r\nconst removeWorkoutAssignment = (username, WID, patients, setPatients) => {\r\n    fetch(`${window.location.origin}/removeassignedworkout?user=${username}&WID=${WID}`, {\r\n        method: 'DELETE'\r\n    }).then((response) => {\r\n        if(!response.ok) throw Error(response.statusText)\r\n        \r\n        let changed = JSON.parse(JSON.stringify(patients))\r\n        const userIdx = changed.findIndex(p => p.username === username)\r\n        changed[userIdx].workouts.splice(changed[userIdx].workouts.findIndex(w => w.id === WID), 1)\r\n        setPatients(changed)\r\n    }).catch(console.log)\r\n}\r\n\r\nconst addExerciseToWorkout = (i, exercises, setExercises, selectedExercises, setSelectedExercises, builtWorkout, setBuiltWorkout) =>  {\r\n    const addedExercise = exercises.splice(i, 1)\r\n    setSelectedExercises(selectedExercises.concat(addedExercise))\r\n    setExercises(Object.assign([], exercises))\r\n    builtWorkout.exercises.push({...addedExercise[0], reps: 1});\r\n    setBuiltWorkout(Object.assign({}, builtWorkout))\r\n}\r\n\r\nconst removeExerciseFromWorkout = (i, exercises, setExercises, selectedExercises, setSelectedExercises, builtWorkout, setBuiltWorkout) =>  {\r\n    const removedExercise = selectedExercises.splice(i, 1)\r\n    setExercises(exercises.concat(removedExercise))\r\n    setSelectedExercises(Object.assign([], selectedExercises))\r\n    builtWorkout.exercises.splice(i, 1);\r\n    setBuiltWorkout(Object.assign({}, builtWorkout))\r\n}\r\n\r\nconst saveNewWorkout = (username, newWorkout, workouts, setWorkouts, setWorkoutModalOpen) => {\r\n    fetch(`${window.location.origin}/addnewworkout?user=${username}`, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(newWorkout),\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }).then((response) => {\r\n        if(!response.ok) throw Error(response.statusText)\r\n        setWorkoutModalOpen(false)\r\n        response.json().then((json) => { setWorkouts(workouts.concat(json)) })\r\n    }).catch(console.log)\r\n}\r\n\r\nconst deletePatient = (idx, patients, setPatients) => {\r\n    fetch(`${window.location.origin}/deleteuser?user=${patients[idx].username}`, {method: 'DELETE'})\r\n    .then((response) => {\r\n        if(!response.ok) throw Error(response.statusText)\r\n\r\n        const changed = Object.assign([], patients)\r\n        changed.splice(idx, 1)\r\n        console.log(changed)\r\n        setPatients(changed)\r\n    }).catch(console.log)\r\n}\r\n\r\nconst getPatients = (username, setPatients) => {\r\n    fetch(`${window.location.origin}/getpatients?user=${username}`)\r\n    .then((response) => {\r\n        if(!response.ok) throw Error(response.statusText)\r\n        console.log(response)\r\n        response.json().then((json) => { setPatients(json) })\r\n    }).catch(console.log)\r\n}\r\n\r\nconst getWorkouts = (username, setWorkouts) => {\r\n    fetch(`${window.location.origin}/getcreatedworkouts?user=${username}`)\r\n    .then((response) => {\r\n        if(!response.ok) throw Error(response.statusText)\r\n        console.log(response)\r\n        response.json().then((json) => { setWorkouts(json) })\r\n    }).catch(console.log)\r\n}\r\n\r\nconst getExercises = (username, setExercises) => {\r\n    fetch(`${window.location.origin}/getcreatedexercises?user=${username}`)\r\n    .then((response) => {\r\n        if(!response.ok) throw Error(response.statusText)\r\n        console.log(response)\r\n        response.json().then((json) => { setExercises(json) })\r\n    }).catch(console.log)\r\n}\r\n\r\nconst Patients = () => {\r\n    // const tempW = [{\"id\":1,\"name\":\"first workout!\"},{\"id\":2,\"name\":\"A test workout\"},{\"id\":3,\"name\":\"Another test workout\"},{\"id\":4,\"name\":\"Lots of people do this workout\"},{\"id\":5,\"name\":\"So much abs\"},{\"id\":6,\"name\":\"Such many biceps\"}]\r\n    // const tempP = [{\"firstName\":\"jane\",\"lastName\":\"joe\",\"username\":\"joeie\",\"workouts\":[{\"id\":1,\"name\":\"first workout!\"},{\"id\":6,\"name\":\"Such many biceps\"}]},{\"firstName\":\"john\",\"lastName\":\"joe\",\"username\":\"johnnny\",\"workouts\":[{\"id\":1,\"name\":\"first workout!\"}]},{\"firstName\":\"zack\",\"lastName\":\"mulhstein\",\"username\":\"zackky\",\"workouts\":[{\"id\":1,\"name\":\"first workout!\"},{\"id\":2,\"name\":\"A test workout\"},{\"id\":3,\"name\":\"Another test workout\"}]},{\"firstName\":\"Last\",\"lastName\":\"One\",\"username\":\"hoping\",\"workouts\":[{\"id\":1,\"name\":\"first workout!\"},{\"id\":3,\"name\":\"Another test workout\"},{\"id\":4,\"name\":\"Lots of people do this workout\"},{\"id\":6,\"name\":\"Such many biceps\"}]}]\r\n    // const tempE = [{\"id\":1,\"name\":\"Curls: Bicep Curls\"},{\"id\":2,\"name\":\"Squat:Air Squat\"},{\"id\":3,\"name\":\"Squat:Back Squat\"},{\"id\":4,\"name\":\"High Pull:Sumo High Pull\"},{\"id\":5,\"name\":\"squat\"}]\r\n    \r\n    const [{ username }, ] = useStateValue()\r\n    const [hoverId, setHoverId] = useState()\r\n    const [selectedId, setSelectedId] = useState()\r\n    const [newUserData, setNewUserData] = useState({})\r\n    const [patientModalOpen, setPatientModalOpen] = useState(false)\r\n    const [workoutModalOpen, setWorkoutModalOpen] = useState(false)\r\n    const [patients, setPatients] = useState([])\r\n    const [workouts, setWorkouts] = useState([])\r\n    const [exercises, setExercises] = useState([])\r\n    const [selectedExercises, setSelectedExercises] = useState([])\r\n    const [selectedWorkout, setSelectedWorkout] = useState()\r\n    const [selectedDays, setSelectedDays] = useState(Array(7).fill(false))\r\n    const [builtWorkout, setBuiltWorkout] = useState({name: '', exercises: []})\r\n    \r\n    useEffect(() => {\r\n        getPatients(username, setPatients)\r\n        getWorkouts(username, setWorkouts)\r\n        getExercises(username, setExercises)\r\n    }, [username])\r\n\r\n    return (\r\n    <div style={{display: 'flex', height: \"100%\"}}>\r\n        <div className=\"Patients__list\">\r\n            <List\r\n            subheader={\r\n                <ListSubheader component=\"div\">Patients</ListSubheader>\r\n            } className=\"Patients__list--style\">\r\n                {patients.map((data, i) =>\r\n                    <React.Fragment key={i} >\r\n                        <ListItem button onMouseEnter={() => setHoverId(i)} onMouseLeave={() => setHoverId(null)} onClick={() => {setSelectedId(i); setSelectedWorkout(undefined)}}>\r\n                            <ListItemText primary={`${data.firstName} ${data.lastName}`} />\r\n                    {hoverId === i ? <img src={CaretIcon} alt=\">\" height={16}/> : <></>}\r\n                        </ListItem>\r\n                    </React.Fragment>)\r\n                }\r\n            </List>\r\n            <Button variant=\"contained\" onClick={() => setPatientModalOpen(true)}>New Patient</Button>\r\n        </div>\r\n        <div className=\"Patients__window\">\r\n            {selectedId !== undefined && \r\n            (<>\r\n                <div className=\"Patients__window__header\">\r\n                    <h2 style={{marginLeft: \"1rem\"}}>{patients[selectedId].firstName} {patients[selectedId].lastName}</h2>\r\n                    <img src={TransferIcon} alt=\"Transfer\" />\r\n                    <img src={TrashIcon} alt=\"Remove\" onClick={() => {setSelectedId(undefined); deletePatient(selectedId, patients, setPatients)}}/>\r\n                </div>\r\n                <div className=\"Patients__window__workouts\">\r\n                    <List subheader={ <ListSubheader>Prescribed Workouts</ListSubheader> } className=\"Patients__window__workouts__list\">\r\n                        {patients[selectedId].workouts.map((data, i) =>\r\n                        <React.Fragment key={i} >\r\n                            <ListItem button onClick={() => removeWorkoutAssignment(patients[selectedId].username, patients[selectedId].workouts[i].id, patients, setPatients)}>\r\n                                <ListItemText primary={data.name} />\r\n                                <img src={MinusIcon} alt=\"-\" />\r\n                            </ListItem>\r\n                        </React.Fragment>)\r\n                        }\r\n                    </List>\r\n                    <div id=\"Available-Workouts\" className=\"Patients__window__workouts__list\">\r\n                        <List subheader={ <ListSubheader>Available Workouts</ListSubheader> } >\r\n                            {workouts.filter(w1 => !patients[selectedId].workouts.some(w2 => w1.id === w2.id)).map((data, i) =>\r\n                            <React.Fragment key={i} >\r\n                                { i !== selectedWorkout ?\r\n                                    <ListItem button onClick={() => setSelectedWorkout(i)}>\r\n                                        <img src={PlusIcon} alt=\"+\" style={{marginRight: '1.5rem'}}/>\r\n                                        <ListItemText primary={data.name} />\r\n                                    </ListItem>\r\n                                    :\r\n                                    <ListItem style={{display: 'flex', justifyContent: 'space-around', alignItems: 'center', height: '48px', backgroundColor: 'rgba(0,0,0,.08)'}}>\r\n                                        {['S','M','T','W','T','F','S'].map((day, i) => <span className='Patients__window__workouts__list__day' style={{backgroundColor: selectedDays[i] ? 'rgba(0,0,0,.2)' : 'transparent'}} onClick={() => {const daysCopy = [...selectedDays]; daysCopy[i] = !daysCopy[i]; setSelectedDays(daysCopy)}}>{day}</span>)}\r\n                                        <img src={CancelIcon} height={16} alt='Cancel' onClick={() => {setSelectedWorkout(undefined); setSelectedDays(Array(7).fill(false))}}/>\r\n                                        <img src={ConfirmIcon} height={16} alt='Confirm' onClick={() => {\r\n                                            assignWorkout(patients[selectedId].username, workouts.filter(w1 => !patients[selectedId].workouts.some(w2 => w1.id === w2.id))[i].id, workouts.filter(w1 => !patients[selectedId].workouts.some(w2 => w1.id === w2.id))[i].name, patients, setPatients, selectedDays)\r\n                                            setSelectedDays(Array(7).fill(false))\r\n                                            setSelectedWorkout(undefined)\r\n                                        }}/>\r\n                                    </ListItem>\r\n                                }\r\n                            </React.Fragment>)\r\n                            }\r\n                        </List>\r\n                        <Button id=\"Create-Workout-Button\" variant=\"outlined\" onClick={() => setWorkoutModalOpen(true)} fullWidth>Create Workout</Button>\r\n                    </div>\r\n                </div>\r\n            </>)\r\n            }\r\n        </div>\r\n        <Modal open={patientModalOpen} \r\n        onClose={() => setPatientModalOpen(false)}> \r\n            <div className=\"Modal\">\r\n                <h2 style={{marginLeft: \"1rem\"}}>NEW PATIENT</h2>\r\n                <form noValidate autoComplete=\"off\" className=\"Patients__modal__form\">\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setNewUserData({...newUserData, firstName: e.target.value})} \r\n                        label=\"First Name\" variant=\"outlined\" style={{margin: \"1rem\", gridArea: \"a\"}}/>\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setNewUserData({...newUserData, lastName: e.target.value})} \r\n                        label=\"Last Name\" variant=\"outlined\" style={{margin: \"1rem\", gridArea: \"b\"}}/>\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setNewUserData({...newUserData, email : e.target.value})}  \r\n                        label=\"Email\" variant=\"outlined\" style={{margin: \"1rem\", gridArea: \"c\"}}/>\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setNewUserData({...newUserData, phoneNumber : e.target.value})}  \r\n                        label=\"Phone Number\" variant=\"outlined\" style={{margin: \"1rem\", gridArea: \"d\"}}/>\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setNewUserData({...newUserData, address : e.target.value})}  \r\n                        label=\"Address\" variant=\"outlined\" style={{margin: \"1rem\", gridArea: \"e\"}}/>\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setNewUserData({...newUserData, username : e.target.value})}  \r\n                        label=\"Username\" variant=\"outlined\" style={{margin: \"1rem\", gridArea: \"f\"}}/>\r\n                    <TextField id=\"outlined-basic\" onChange={(e) => setNewUserData({...newUserData, password: e.target.value})}  \r\n                        label=\"Password\" type=\"password\" variant=\"outlined\" style={{margin: \"1rem\", gridArea: \"g\"}}/>\r\n                    <Button variant=\"outlined\" style={{margin: \"1rem\", gridArea: \"h\"}} \r\n                        onClick={() => {addUser(username, newUserData, patients, setPatients); setPatientModalOpen(false)}}>ADD PATIENT</Button>\r\n                </form>\r\n            </div>\r\n        </Modal>\r\n        <Modal open={workoutModalOpen} \r\n        onClose={() => setWorkoutModalOpen(false)}> \r\n            <div className=\"Modal\" id=\"WorkoutBuilderModal\">\r\n                <h2 style={{marginLeft: \"1rem\"}}>BUILD NEW WORKOUT</h2>\r\n                <div className=\"WorkoutBuilder\">\r\n                    <List subheader={ <ListSubheader>Available Exercises</ListSubheader> } className=\"WorkoutBuilder__available\">\r\n                        {exercises.map((data, i) =>\r\n                        <React.Fragment key={i} >\r\n                            <ListItem button onClick={() => addExerciseToWorkout(i, exercises, setExercises, selectedExercises, setSelectedExercises, builtWorkout, setBuiltWorkout)}>\r\n                                <ListItemText primary={data.name} />\r\n                                <img src={PlusIcon} alt=\"+\" />\r\n                            </ListItem>\r\n                        </React.Fragment>)\r\n                        }\r\n                    </List>\r\n                    <List subheader={ <ListSubheader>Selected Exercises<span style={{float: 'right'}}>Reps</span></ListSubheader> } className=\"WorkoutBuilder__selected\">\r\n                        {selectedExercises.map((data, i) =>\r\n                        <React.Fragment key={i} >\r\n                            <ListItem>\r\n                                <img src={MinusIcon} alt=\"-\" style={{margin: '-.5rem 1rem -.5rem -.5rem', padding: '.5rem'}} onClick={() => removeExerciseFromWorkout(i, exercises, setExercises, selectedExercises, setSelectedExercises, builtWorkout, setBuiltWorkout)}/>\r\n                                    <ListItemText primary={data.name} />\r\n                                <div className=\"WorkoutBuilder__selected--reps\"><span style={{marginRight: '.5rem'}}>{builtWorkout.exercises[i].reps}</span>\r\n                                    <div className=\"WorkoutBuilder__selected__carets\">\r\n                                        <img src={UpCaretIcon} height={8} alt=\"^\" onClick={() => {builtWorkout.exercises[i].reps++; setBuiltWorkout(Object.assign({}, builtWorkout))}} />\r\n                                        <img src={DownCaretIcon} height={8} alt=\"v\" onClick={() => { if(builtWorkout.exercises[i].reps > 1) { builtWorkout.exercises[i].reps--; setBuiltWorkout(Object.assign({}, builtWorkout))}}} />\r\n                                    </div>\r\n                                </div>\r\n                            </ListItem>\r\n                        </React.Fragment>)\r\n                        }\r\n                    </List>\r\n                </div>\r\n                <div id=\"Workout-Confirmation-div\">\r\n                    <TextField label=\"Workout Name\" onChange={e => {builtWorkout.name = e.target.value; setBuiltWorkout(Object.assign({}, builtWorkout))}} fullWidth />\r\n                    <img src={ConfirmIcon} alt=\"Confirm\" height={24} onClick={() => saveNewWorkout(username, builtWorkout, workouts, setWorkouts, setWorkoutModalOpen)} />\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Patients;"]},"metadata":{},"sourceType":"module"}